---
title: Create Address
description: Generate a unique deposit address
---

<span class="http-method post">POST</span>
<span class="endpoint-path">/addresses</span>

Generate a unique deposit address. If a `reference_id` is provided and an address already exists for that reference_id + chain combination, returns the existing address (idempotent).

---

## Request Body

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `chain` | string | Yes | Chain code (e.g., `btc`, `eth`, `sol`, `trx`, `xrp`). [See all chains â†’](/chains/) |
| `reference_id` | UUID | No | Optional UUID for client-side correlation |

---

## Example Request

```bash
curl -X POST https://api.yourdomain.com/api/v1/addresses \
  -H "X-API-Key: sk_live_abc123..." \
  -H "Content-Type: application/json" \
  -d '{
    "chain": "eth",
    "reference_id": "550e8400-e29b-41d4-a716-446655440000"
  }'
```

---

## Response (201 Created)

```json
{
  "id": "f47ac10b-58cc-4372-a567-0e02b2c3d479",
  "chain": "eth",
  "address": "0x742d35Cc6634C0532925a3b844Bc9e7595f8bDe7",
  "reference_id": "550e8400-e29b-41d4-a716-446655440000",
  "total_received": "0",
  "payment_count": 0,
  "created_at": "2024-01-20T14:30:00Z",
  "is_new": true
}
```

---

## Response Fields

| Field | Type | Description |
|-------|------|-------------|
| `id` | UUID | Unique address identifier |
| `chain` | string | Blockchain code |
| `address` | string | The deposit address |
| `reference_id` | UUID/null | Your correlation ID (if provided) |
| `total_received` | string | Total amount received (decimal string) |
| `payment_count` | integer | Number of payments received |
| `created_at` | datetime | Creation timestamp (ISO 8601) |
| `is_new` | boolean | `true` if just created, `false` if already existed |

---

## Idempotency

When `reference_id` is provided, the endpoint is idempotent. Calling it multiple times with the same `reference_id` and `chain` returns the same address:

```bash
# First call - creates new address
POST /addresses {"chain": "eth", "reference_id": "550e8400-e29b-41d4-a716-446655440000"}
# Response: {"address": "0xABC...", "is_new": true}

# Second call - returns existing address
POST /addresses {"chain": "eth", "reference_id": "550e8400-e29b-41d4-a716-446655440000"}
# Response: {"address": "0xABC...", "is_new": false}
```

When `reference_id` is null/omitted, a new address is always created:

```bash
# First call - creates new address
POST /addresses {"chain": "eth"}
# Response: {"address": "0xABC...", "is_new": true}

# Second call - creates another new address
POST /addresses {"chain": "eth"}
# Response: {"address": "0xDEF...", "is_new": true}
```

---

## Notes

- The address is immediately added to the polling queue
- Use `reference_id` when you need to correlate addresses with your system's entities
- Omit `reference_id` when generating one-time addresses
